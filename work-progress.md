## 工作进展

```c++
/*
12.06 - 12.06(周末) ：在Windows和Linux上分别搭建nginx-rtmp服务器

12.07 - 12.07(周一) ：用脚本实现rtmp直播推流和拉流

12.08 - 12.09(周二、周三) ：实现Qt直播界面，将推流部分嵌入Qt

12.10 - 12.10(周四) ：解决推流无法反复启动关闭的bug(推流线程未完全清理结束)

12.11 - 12.11(周五) ：实现rtmp拉流代码

12.12 - 12.13(周六、周日) ：将拉流代码嵌入Qt，解决无法同时推流和拉流的bug(SDL事件驱动无法实现线程间的独立，采用信号量进行线程间同步)，解决拉流无法反复启动关闭的bug(依赖Qt创建的SDL窗口只有在整个工程结束时才能释放)，实现了在局域网下几乎0延时的直播前后端

12.14 - 12.14(周一) ：优化Triple DES加密代码，可在Windows/Linux/macOS多平台下运行，并生成了相应平台的动态库和静态库，测试了单线程加密和解密YUV数据的效率(加密一帧需要1s，解密一帧需要2s，太慢了)

12.15 - 12.15(周二) ：写了线程池将加密时间缩短到190ms，还是太慢了

12.16 - 12.16(周三) ：改方案加密压缩数据(裸流)，加密时间满足条件要求，加密后传输无法正常解码(解码时程序崩溃)

12.17 - 12.17(周四) ：排查问题，FFmpeg压缩的裸流中前4byte记录这一帧裸流的nalu长度，封装的时候要用，不能加密，添加推流拉流密输入部分窗口的代码，完善整个工程代码

12.18 - 12.18(周五) ：改进播放器项目部分的代码，视频拼接项目代码往Qt中添加
*/
```

```c++
/*
12.19 - 12.19(周六) ：在播放器中加入Triple DES加密和解密本地视频文件的功能

12.21 - 12.21(周一) ：在拼接视频工程中加入同时播放3个本地视频文件的功能

12.22 - 12.22(周二) ：通过memory copy的方式实现拼接，可同时播放3个本地视频和拼接视频的功能

12.23 - 12.24(周三、周四) ：学习最新版ffmpeg filter用法，利用filter实现视频的拼接(memory copy方法太low)，可同时播放3个本地视频和拼接视频

12.25 - 12.26(周五、周六) ：重构之前的代码(大幅度降低代码重复度)，在窗口增加视频文件输入和输出的代码，加入编码拼接视频的功能

12.28 - 12.28(周一) ：完成拼接代码的编码输出，完善进度条和时间显示，完善程序退出，程序退出还有bug

12.29 - 12.29(周二) ：解决程序退出bug，解决进度条更新不及时的问题(单独起线程处理进度条)

12.30 - 12.30(周三) ：解决拼接视频只能输出mp4格式的bug，因为视频格式是YUVJ420P格式的，FFmpeg已经弃用该格式，用YUV420P替代即可，目前测试支持avi/mp4/flv

12.31 - 12.31(周四) ：用filter-complex实现了24个tile的拼接，开始24个线程解码24个tile，1个线程用于拼接播放，拼接一帧数据100ms(太慢了)
*/
```

```c++
/*
1.02 - 1.04(周六、周日、周一) ：实现ffmpeg-GPU解码，24个线程调用GPU解码依然耗时严重100ms，对耗时未起作用

1.05 - 1.05(周二) ：定位到耗时比较严重的函数为av_buffersink_get_frame()，暂时没有找到解决该函数耗时的方案(可以考虑调用GPU版的filter，暂时没有跑通)，通过SDL显示24路视频暂时解决了这个问题

1.06 - 1.06(周三) ：安装和调试Apache服务器
*/
```

```c++
/*
1.12 - 1.13(周二、周三) ：写VIM直播系统的软件著作权
*/
```

